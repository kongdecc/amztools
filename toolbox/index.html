<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>图片尺寸调整工具</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>图片尺寸调整工具</h1>
        
        <div class="upload-container">
            <label for="upload" class="upload-button">
                选择图片（最多30张）
                <input type="file" id="upload" accept="image/*" multiple style="position: absolute; opacity: 0; width: 100%; height: 100%; top: 0; left: 0; cursor: pointer;">
            </label>
        </div>

        <div class="compression-controls" style="display: none;">
            <div class="control-group">
                <label class="control-label">
                    压缩质量：
                    <div class="tooltip">i
                        <span class="tooltip-text">质量值越高，图片越清晰，文件越大；值越低，压缩率越高，但可能影响图片清晰度</span>
                    </div>
                </label>
                <div class="quality-control">
                    <input type="range" id="quality" min="0" max="100" value="75">
                    <span id="quality-value">75%</span>
                </div>
            </div>

            <div class="batch-controls">
                <h3>批量设置</h3>
                <div class="size-inputs">
                    <label>
                        宽度：
                        <input type="number" id="batch-width" min="1" placeholder="宽度">
                    </label>
                    <label>
                        高度：
                        <input type="number" id="batch-height" min="1" placeholder="高度">
                    </label>
                    <label class="keep-ratio">
                        <input type="checkbox" id="batch-keep-ratio" checked>
                        保持长宽比
                    </label>
                </div>
                <div class="batch-buttons">
                    <div class="format-select-wrapper">
                        <label for="batch-format" class="format-label">请在调整大小前先选择要下载的格式：</label>
                        <select id="batch-format" class="format-select">
                            <option value="image/jpeg">JPEG</option>
                            <option value="image/png">PNG</option>
                            <option value="image/gif">GIF</option>
                        </select>
                    </div>
                    <button id="batch-resize" class="batch-button">批量调整大小</button>
                    <button id="batch-download" class="batch-button">批量下载</button>
                </div>
            </div>
        </div>

        <div class="images-grid" id="images-grid">
            <!-- 图片卡片将在这里动态生成 -->
        </div>

        <!-- 处理进度提示 -->
        <div id="progress-modal" class="progress-modal">
            <div class="progress-content">
                <h3>处理中...</h3>
                <div class="progress-bar">
                    <div class="progress-fill"></div>
                </div>
                <div class="progress-text">已处理: <span id="progress-count">0</span>/<span id="progress-total">0</span></div>
            </div>
        </div>
    </div>
    
    <!-- 引入必要的库 -->
    <script src="https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.0/dist/browser-image-compression.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.7.1/jszip.min.js"></script>
    <script src="script.js"></script>
</body>
</html> 